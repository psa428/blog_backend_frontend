{"ast":null,"code":"import { getComments, getPosts } from \"../api\";\nimport { getCommentsCount } from \"../utils\";\nexport const fetchPosts = async (page, limit) => {\n  const [{\n    posts,\n    links\n  }, comments] = await Promise.all([getPosts(page, limit), getComments()]);\n  console.log(`in fetchPosts posts = ${posts}`);\n  return {\n    error: null,\n    res: {\n      posts: posts.map(post => ({\n        ...post,\n        commentsCount: getCommentsCount(comments, post.id)\n      })),\n      links\n    }\n  };\n};","map":{"version":3,"names":["getComments","getPosts","getCommentsCount","fetchPosts","page","limit","posts","links","comments","Promise","all","console","log","error","res","map","post","commentsCount","id"],"sources":["/home/psa/develop/result-school/blog/src/bff/operations/fetch-posts.js"],"sourcesContent":["import { getComments, getPosts } from \"../api\";\nimport { getCommentsCount } from \"../utils\"; \n\nexport const fetchPosts = async (page, limit) => {\n\n    const [{ posts, links }, comments] = await Promise.all([\n        getPosts(page, limit), \n        getComments()\n    ]);\n\n    console.log(`in fetchPosts posts = ${posts}`);\n    \n\n    return {\n        error:  null,\n        res:    {\n            posts:  posts.map((post) => ({\n                ...post,\n                commentsCount:  getCommentsCount(comments, post.id),\n            })),\n            links,\n        },    \n    };\n};"],"mappings":"AAAA,SAASA,WAAW,EAAEC,QAAQ,QAAQ,QAAQ;AAC9C,SAASC,gBAAgB,QAAQ,UAAU;AAE3C,OAAO,MAAMC,UAAU,GAAG,MAAAA,CAAOC,IAAI,EAAEC,KAAK,KAAK;EAE7C,MAAM,CAAC;IAAEC,KAAK;IAAEC;EAAM,CAAC,EAAEC,QAAQ,CAAC,GAAG,MAAMC,OAAO,CAACC,GAAG,CAAC,CACnDT,QAAQ,CAACG,IAAI,EAAEC,KAAK,CAAC,EACrBL,WAAW,CAAC,CAAC,CAChB,CAAC;EAEFW,OAAO,CAACC,GAAG,CAAC,yBAAyBN,KAAK,EAAE,CAAC;EAG7C,OAAO;IACHO,KAAK,EAAG,IAAI;IACZC,GAAG,EAAK;MACJR,KAAK,EAAGA,KAAK,CAACS,GAAG,CAAEC,IAAI,KAAM;QACzB,GAAGA,IAAI;QACPC,aAAa,EAAGf,gBAAgB,CAACM,QAAQ,EAAEQ,IAAI,CAACE,EAAE;MACtD,CAAC,CAAC,CAAC;MACHX;IACJ;EACJ,CAAC;AACL,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}