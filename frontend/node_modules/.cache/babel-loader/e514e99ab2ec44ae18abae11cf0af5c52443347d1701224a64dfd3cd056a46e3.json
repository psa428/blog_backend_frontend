{"ast":null,"code":"import { setUser } from \"../actions\";\nimport { getSession, addSession, deleteSession } from \"./api\";\nexport const sessions = {\n  create(user) {\n    const hash = Math.random().toFixed(50);\n    addSession(hash, user);\n    return hash;\n  },\n  remove(hash) {\n    delete this.list[hash];\n  },\n  async access(hash, accessRoles) {\n    const session = await getSession(hash);\n    const user = await setUser(hash);\n    if (!!user) return !!user && accessRoles.includes(session.user.roleId);\n  }\n};","map":{"version":3,"names":["setUser","getSession","addSession","deleteSession","sessions","create","user","hash","Math","random","toFixed","remove","list","access","accessRoles","session","includes","roleId"],"sources":["/home/psa/develop/result-school/blog/src/bff/sessions.js"],"sourcesContent":["import { setUser } from \"../actions\";\nimport { getSession, addSession, deleteSession } from \"./api\";\n\nexport const sessions = {\n   \n    create(user) {\n        const hash = Math.random().toFixed(50);\n\n        addSession(hash, user);\n\n        return hash;\n    },\n    \n    remove(hash) {\n        delete this.list[hash];\n    },\n\n    async access(hash, accessRoles) {  \n        const session =  await getSession(hash);\n        const user = await setUser(hash);\n      \n        if (!!user)\n            return !!user && accessRoles.includes(session.user.roleId);\n    },\n}"],"mappings":"AAAA,SAASA,OAAO,QAAQ,YAAY;AACpC,SAASC,UAAU,EAAEC,UAAU,EAAEC,aAAa,QAAQ,OAAO;AAE7D,OAAO,MAAMC,QAAQ,GAAG;EAEpBC,MAAMA,CAACC,IAAI,EAAE;IACT,MAAMC,IAAI,GAAGC,IAAI,CAACC,MAAM,CAAC,CAAC,CAACC,OAAO,CAAC,EAAE,CAAC;IAEtCR,UAAU,CAACK,IAAI,EAAED,IAAI,CAAC;IAEtB,OAAOC,IAAI;EACf,CAAC;EAEDI,MAAMA,CAACJ,IAAI,EAAE;IACT,OAAO,IAAI,CAACK,IAAI,CAACL,IAAI,CAAC;EAC1B,CAAC;EAED,MAAMM,MAAMA,CAACN,IAAI,EAAEO,WAAW,EAAE;IAC5B,MAAMC,OAAO,GAAI,MAAMd,UAAU,CAACM,IAAI,CAAC;IACvC,MAAMD,IAAI,GAAG,MAAMN,OAAO,CAACO,IAAI,CAAC;IAEhC,IAAI,CAAC,CAACD,IAAI,EACN,OAAO,CAAC,CAACA,IAAI,IAAIQ,WAAW,CAACE,QAAQ,CAACD,OAAO,CAACT,IAAI,CAACW,MAAM,CAAC;EAClE;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}